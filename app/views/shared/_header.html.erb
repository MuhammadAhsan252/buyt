<header>
    <nav class="navbar navbar-expand-md bg-light bsb-navbar bsb-navbar-hover bsb-navbar-caret border-bottom border-2">
        <div class="container">
            <a class="navbar-brand" href="<%= root_path %>">
            <%= image_tag "buyt_logo.png", alt: "Logo", width: 100, height: 50 %>
            </a>
            <button class="navbar-toggler border-0" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasNavbar" aria-controls="offcanvasNavbar">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-list" viewBox="0 0 16 16">
                <path fill-rule="evenodd" d="M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z" />
            </svg>
            </button>
            <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasNavbar" aria-labelledby="offcanvasNavbarLabel">
            <div class="offcanvas-header">
                <h5 class="offcanvas-title" id="offcanvasNavbarLabel">Menu</h5>
                <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
            </div>
            <div class="offcanvas-body">
                <ul class="navbar-nav justify-content-end flex-grow-1">
                    <% if seller_signed_in? %>
                        <li class="nav-item">
                            <a class="nav-link" href="<%= buyers_path %>">Signals</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="<%= conversations_path %>">Inbox</a>
                        </li>
                        <li class="nav-item dropdown" data-controller="dropdown">
                            <a class="py-3 nav-link dropdown-toggle bsb-dropdown-toggle-caret-disable" href="#"
                                role="button" data-dropdown-target="toggle" data-action="click->dropdown#toggle">
                                <% if current_seller.profile_photo.attached? %>
                                        <%= image_tag current_seller.profile_photo, class: 'rounded-circle', alt: 'lead', 
                                            height: '35', width: '35' %>
                                <% else %>
                                    <%= image_tag 'profile_photo.png', class: 'rounded-circle', alt: 'lead', 
                                        height: '35', width: '35' %>
                                <% end %>
                            </a>
                            <ul class="dropdown-menu border-0 shadow bsb-zoomIn" aria-labelledby="accountDropdown">
                                <li><a class="dropdown-item" href="<%= seller_path(current_seller) %>">My Profile</a></li>
                                <li><a class="dropdown-item" href="<%= edit_seller_registration_path %>">Edit Account</a></li>
                                <li>
                                    <hr class="dropdown-divider">
                                </li>
                                <li>
                                    <%= link_to "Logout", destroy_seller_session_path, data: { turbo_method: :delete }, class: "dropdown-item" %>
                                </li>
                            </ul>
                        </li>
                    <% elsif buyer_signed_in? %>
                        <li class="nav-item">
                            <a class="nav-link" href="<%= sellers_path %>">Signals</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="<%= conversations_path %>">Inbox</a>
                        </li>
                        <li class="nav-item dropdown" data-controller="dropdown">
                            <a class="py-3 nav-link dropdown-toggle bsb-dropdown-toggle-caret-disable" href="#"
                                role="button" data-dropdown-target="toggle" data-action="click->dropdown#toggle">
                                <% if current_buyer.profile_photo.attached? %>
                                        <%= image_tag current_buyer.profile_photo, class: 'rounded-circle', alt: 'lead', 
                                            height: '35', width: '35' %>
                                <% else %>
                                    <%= image_tag 'profile_photo.png', class: 'rounded-circle', alt: 'lead', 
                                        height: '35', width: '35' %>
                                <% end %>
                            </a>
                            <ul class="dropdown-menu border-0 shadow bsb-zoomIn" aria-labelledby="accountDropdown">
                                <li><a class="dropdown-item" href="<%= buyer_path(current_buyer) %>">My Profile</a></li>
                                <li><a class="dropdown-item" href="<%= edit_buyer_registration_path %>">Edit Account</a></li>
                                <li>
                                    <hr class="dropdown-divider">
                                </li>
                                <li>
                                    <%= link_to "Logout", destroy_buyer_session_path, data: { turbo_method: :delete }, class: "dropdown-item" %>
                                </li>
                            </ul>
                        </li>
                    <% else %>
                        <li class="nav-item dropdown" data-controller="dropdown">
                            <a class="dropdown-toggle btn btn-outline-primary my-3 me-2" href="#!" id="accountDropdown" role="button" data-dropdown-target="toggle" data-action="click->dropdown#toggle">Login</a>
                            <ul class="dropdown-menu border-0 shadow bsb-zoomIn" aria-labelledby="accountDropdown">
                            <li><a class="dropdown-item" href="<%= new_seller_session_path %>">Login as a seller</a></li>
                            <li>
                                <hr class="dropdown-divider">
                            </li>
                            <li><a class="dropdown-item" href="<%= new_buyer_session_path %>">Login as a buyer</a></li>
                            </ul>
                        </li>
                        <li class="nav-item dropdown" data-controller="dropdown">
                            <a class="dropdown-toggle btn btn-primary my-md-3" href="#!" id="accountDropdown" role="button" data-dropdown-target="toggle" data-action="click->dropdown#toggle">Register</a>
                            <ul class="dropdown-menu border-0 shadow bsb-zoomIn" aria-labelledby="accountDropdown">
                                <li><a class="dropdown-item" href="<%= new_seller_registration_path %>">Register as a seller</a></li>
                                <li>
                                    <hr class="dropdown-divider">
                                </li>
                                <li><a class="dropdown-item" href="<%= new_buyer_registration_path %>">Register as a buyer</a></li>
                            </ul>
                        </li>
                    <% end %>
                </ul>
            </div>
            </div>
        </div>
    </nav>
</header>